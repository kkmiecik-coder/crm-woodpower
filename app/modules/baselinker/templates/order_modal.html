<!-- modules/baselinker/templates/order_modal.html -->
<div id="baselinker-modal" class="quotes-details-modal-overlay" style="display: none;">
    <div class="quotes-details-modal-box">
        <div class="quotes-details-modal-header sticky-header">
            <h2 class="quotes-details-modal-title title-with-underline-h2">
                <span class="baselinker-icon">üì¶</span>
                Sk≈Çadanie zam√≥wienia w Baselinker
            </h2>
            <div class="quotes-details-modal-header-actions">
                <button class="quotes-btn quotes-btn-full-screen" id="baselinker-sync-config" title="Synchronizuj konfiguracjƒô">
                    <span>Sync</span>
                </button>
                <button class="quotes-details-modal-close" id="baselinker-close-modal">&times;</button>
            </div>
        </div>

        <!-- Progress Bar -->
        <div class="baselinker-progress-section">
            <div class="baselinker-progress-bar">
                <div class="baselinker-progress-step active" data-step="1">
                    <div class="step-number">1</div>
                    <div class="step-label">PrzeglƒÖd</div>
                </div>
                <div class="baselinker-progress-step" data-step="2">
                    <div class="step-number">2</div>
                    <div class="step-label">Konfiguracja</div>
                </div>
                <div class="baselinker-progress-step" data-step="3">
                    <div class="step-number">3</div>
                    <div class="step-label">Potwierdzenie</div>
                </div>
            </div>
        </div>

        <!-- Krok 1: PrzeglƒÖd zam√≥wienia -->
        <div class="baselinker-step-content active" data-step="1">
            <div class="quotes-details-modal-section">
                <h3 class="quotes-details-modal-subtitle">
                    <span class="section-icon">üìã</span>
                    PrzeglƒÖd zam√≥wienia
                </h3>

                <div class="quotes-details-summary" id="baselinker-order-summary">
                    <!-- Wype≈Çniane dynamicznie -->
                </div>
            </div>

            <div class="quotes-details-modal-section">
                <h3 class="quotes-details-modal-subtitle">
                    <span class="section-icon">üì¶</span>
                    Produkty do zam√≥wienia
                </h3>

                <div class="baselinker-products-container">
                    <div class="quotes-details-modal-items-header">
                        <div>Produkt</div>
                        <div>Wymiary</div>
                        <div>Wyko≈Ñczenie</div>
                        <div>Cena</div>
                    </div>
                    <div class="quotes-details-modal-items-body" id="baselinker-products-list">
                        <!-- Wype≈Çniane dynamicznie -->
                    </div>
                </div>
            </div>

            <div class="quotes-details-modal-section">
                <h3 class="quotes-details-modal-subtitle">
                    <span class="section-icon">üí∞</span>
                    Podsumowanie finansowe
                </h3>

                <div class="baselinker-financial-summary" id="baselinker-financial-summary">
                    <!-- Wype≈Çniane dynamicznie -->
                </div>
            </div>
        </div>

        <!-- Krok 2: Konfiguracja -->
        <div class="baselinker-step-content" data-step="2">
            <div class="quotes-details-modal-section">
                <h3 class="quotes-details-modal-subtitle">
                    <span class="section-icon">‚öôÔ∏è</span>
                    Konfiguracja zam√≥wienia
                </h3>

                <div class="baselinker-config-grid">
                    <div class="floating-label-input">
                        <select id="order-source-select" class="styled-select" required>
                            <option value="">Wybierz ≈∫r√≥d≈Ço...</option>
                        </select>
                        <label class="select-label static">≈πr√≥d≈Ço zam√≥wienia *</label>
                    </div>

                    <div class="floating-label-input">
                        <select id="order-status-select" class="styled-select" required>
                            <option value="">Wybierz status...</option>
                        </select>
                        <label class="select-label static">Status zam√≥wienia</label>
                    </div>

                    <div class="floating-label-input">
                        <select id="payment-method-select" class="styled-select" required>
                            <option value="">Wybierz metodƒô...</option>
                        </select>
                        <label class="select-label static">Metoda p≈Çatno≈õci *</label>
                    </div>

                    <div class="floating-label-input">
                        <select id="delivery-method-select" class="styled-select">
                            <option value="">Wybierz metodƒô...</option>
                        </select>
                        <label class="select-label static">Metoda dostawy</label>
                    </div>
                </div>

                <div class="baselinker-info-box">
                    <div class="info-icon">‚ÑπÔ∏è</div>
                    <div class="info-text">
                        <strong>Informacja:</strong> Dane klienta zostanƒÖ automatycznie przeniesione z wyceny do zam√≥wienia w Baselinker.
                        Status zam√≥wienia zosta≈Ç ustawiony na "Nowe - nieop≈Çacone".
                    </div>
                </div>
            </div>

            <div class="quotes-details-modal-section">
                <h3 class="quotes-details-modal-subtitle">
                    <span class="section-icon">üìç</span>
                    PodglƒÖd danych klienta
                </h3>

                <div class="baselinker-client-preview-grid" id="baselinker-client-preview">
                    <!-- Wype≈Çniane dynamicznie -->
                </div>
            </div>
        </div>

        <!-- Krok 3: Potwierdzenie -->
        <div class="baselinker-step-content" data-step="3">
            <div class="quotes-details-modal-section">
                <h3 class="quotes-details-modal-subtitle">
                    <span class="section-icon">‚úÖ</span>
                    Potwierdzenie sk≈Çadania zam√≥wienia
                </h3>

                <div class="baselinker-warning-box">
                    <div class="warning-icon">‚ö†Ô∏è</div>
                    <div class="warning-text">
                        <strong>Uwaga!</strong> Po klikniƒôciu "Z≈Ç√≥≈º zam√≥wienie" dane zostanƒÖ wys≈Çane do systemu Baselinker i utworzone zostanie nowe zam√≥wienie. Tej operacji nie mo≈ºna cofnƒÖƒá.
                    </div>
                </div>

                <div class="quotes-details-summary" id="baselinker-final-summary">
                    <!-- Wype≈Çniane dynamicznie -->
                </div>

                <div class="quotes-details-modal-section" id="baselinker-validation-results">
                    <h4 class="quotes-details-modal-subtitle">Wybrana konfiguracja:</h4>
                    <div class="baselinker-config-summary" id="baselinker-config-display">
                        <!-- Wype≈Çniane dynamicznie -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal Footer Actions -->
        <div class="quotes-details-modal-footer">
            <div class="quotes-details-modal-actions">
                <button class="quotes-btn quotes-btn-secondary" id="baselinker-close-modal-footer">
                    Anuluj
                </button>
                <button class="quotes-btn quotes-btn-secondary" id="baselinker-prev-step" style="display: none;">
                    ‚Üê Poprzedni
                </button>
                <button class="quotes-btn quotes-btn-primary" id="baselinker-next-step">
                    Nastƒôpny ‚Üí
                </button>
                <button class="quotes-btn quotes-btn-order" id="baselinker-submit-order" style="display: none;">
                    <span class="btn-text">Z≈Ç√≥≈º zam√≥wienie</span>
                    <span class="btn-loading" style="display: none;">
                        <div class="spinner-small"></div>
                        Sk≈Çadanie...
                    </span>
                </button>
            </div>
        </div>
    </div>
</div>