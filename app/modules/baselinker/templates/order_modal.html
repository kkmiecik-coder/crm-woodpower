<!-- modules/baselinker/templates/order_modal.html -->
<div id="baselinker-modal" class="bl-style-modal-overlay" style="display: none;">
    <div class="bl-style-modal-box">
        <div class="bl-style-modal-header">
            <h2 class="bl-style-modal-title">
                <span class="bl-style-icon">üì¶</span>
                Sk≈Çadanie zam√≥wienia w Baselinker
            </h2>
            <div class="bl-style-modal-header-actions">
                <button class="bl-style-btn bl-style-btn-sync" id="baselinker-sync-config" title="Synchronizuj konfiguracjƒô">
                    <span>Sync</span>
                </button>
                <button class="bl-style-modal-close" id="baselinker-close-modal">&times;</button>
            </div>
        </div>

        <!-- Progress Bar -->
        <div class="bl-style-progress-section">
            <div class="bl-style-progress-bar">
                <div class="bl-style-progress-step active" data-step="1">
                    <div class="bl-style-step-number">1</div>
                    <div class="bl-style-step-label">PrzeglƒÖd</div>
                </div>
                <div class="bl-style-progress-step" data-step="2">
                    <div class="bl-style-step-number">2</div>
                    <div class="bl-style-step-label">Konfiguracja</div>
                </div>
                <div class="bl-style-progress-step" data-step="3">
                    <div class="bl-style-step-number">3</div>
                    <div class="bl-style-step-label">Potwierdzenie</div>
                </div>
            </div>
        </div>

        <!-- Modal Content -->
        <div class="bl-style-modal-content">
            <!-- Krok 1: PrzeglƒÖd zam√≥wienia -->
            <div class="bl-style-step-content active" data-step="1">
                <div class="bl-style-section">
                    <h3 class="bl-style-section-title">
                        <span class="bl-style-icon">üìã</span>
                        PrzeglƒÖd zam√≥wienia
                    </h3>

                    <div class="bl-style-summary-box" id="baselinker-order-summary">
                        <!-- Wype≈Çniane dynamicznie -->
                    </div>
                </div>

                <div class="bl-style-section">
                    <h3 class="bl-style-section-title">
                        <span class="bl-style-icon">üì¶</span>
                        Produkty do zam√≥wienia
                    </h3>

                    <div class="bl-style-products-container">
                        <div class="bl-style-products-header">
                            <div>Produkt</div>
                            <div>Wymiary</div>
                            <div>Wyko≈Ñczenie</div>
                            <div>Cena</div>
                        </div>
                        <div class="bl-style-products-body" id="baselinker-products-list">
                            <!-- Wype≈Çniane dynamicznie -->
                        </div>
                    </div>
                </div>

                <div class="bl-style-section">
                    <h3 class="bl-style-section-title">
                        <span class="bl-style-icon">üí∞</span>
                        Podsumowanie finansowe
                    </h3>

                    <div class="bl-style-financial-summary" id="baselinker-financial-summary">
                        <!-- Wype≈Çniane dynamicznie -->
                    </div>
                </div>
            </div>

            <!-- Krok 2: Konfiguracja -->
            <div class="bl-style-step-content" data-step="2">
                <div class="bl-style-section">
                    <h3 class="bl-style-section-title">
                        <span class="bl-style-icon">‚öôÔ∏è</span>
                        Konfiguracja zam√≥wienia
                    </h3>

                    <div class="bl-style-form-grid">
                        <div class="bl-style-form-group">
                            <label class="bl-style-form-label">≈πr√≥d≈Ço zam√≥wienia *</label>
                            <select id="order-source-select" class="bl-style-form-select" required>
                                <option value="">Wybierz ≈∫r√≥d≈Ço...</option>
                            </select>
                        </div>

                        <div class="bl-style-form-group">
                            <label class="bl-style-form-label">Status zam√≥wienia *</label>
                            <select id="order-status-select" class="bl-style-form-select" required>
                                <option value="">Wybierz status...</option>
                            </select>
                        </div>

                        <div class="bl-style-form-group">
                            <label class="bl-style-form-label">Metoda p≈Çatno≈õci *</label>
                            <select id="payment-method-select" class="bl-style-form-select" required>
                                <option value="">Wybierz metodƒô...</option>
                            </select>
                        </div>

                        <div class="bl-style-form-group">
                            <label class="bl-style-form-label">Metoda dostawy</label>
                            <select id="delivery-method-select" class="bl-style-form-select">
                                <option value="">Wybierz metodƒô...</option>
                            </select>
                        </div>
                    </div>

                    <div class="bl-style-info-box">
                        <div class="bl-style-info-icon">‚ÑπÔ∏è</div>
                        <div class="bl-style-info-text">
                            <strong>Informacja:</strong> Dane klienta zostanƒÖ automatycznie przeniesione z wyceny do zam√≥wienia w Baselinker.
                        </div>
                    </div>
                </div>

                <div class="bl-style-section">
                    <h3 class="bl-style-section-title">
                        <span class="bl-style-icon">üìç</span>
                        PodglƒÖd danych klienta
                    </h3>

                    <div class="bl-style-client-grid" id="baselinker-client-preview">
                        <!-- Wype≈Çniane dynamicznie -->
                    </div>
                </div>
            </div>

            <!-- Krok 3: Potwierdzenie -->
            <div class="bl-style-step-content" data-step="3">
                <div class="bl-style-section">
                    <h3 class="bl-style-section-title">
                        <span class="bl-style-icon">‚úÖ</span>
                        Potwierdzenie sk≈Çadania zam√≥wienia
                    </h3>

                    <div class="bl-style-warning-box">
                        <div class="bl-style-warning-icon">‚ö†Ô∏è</div>
                        <div class="bl-style-warning-text">
                            <strong>Uwaga!</strong> Po klikniƒôciu "Z≈Ç√≥≈º zam√≥wienie" dane zostanƒÖ wys≈Çane do systemu Baselinker i utworzone zostanie nowe zam√≥wienie. Tej operacji nie mo≈ºna cofnƒÖƒá.
                        </div>
                    </div>

                    <div class="bl-style-summary-box" id="baselinker-final-summary">
                        <!-- Wype≈Çniane dynamicznie -->
                    </div>

                    <div class="bl-style-section" id="baselinker-validation-results">
                        <h4 class="bl-style-section-subtitle">Wybrana konfiguracja:</h4>
                        <div class="bl-style-config-summary" id="baselinker-config-display">
                            <!-- Wype≈Çniane dynamicznie -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal Footer Actions -->
        <div class="bl-style-modal-footer">
            <div class="bl-style-modal-actions">
                <button class="bl-style-btn bl-style-btn-secondary" id="baselinker-close-modal-footer">
                    Anuluj
                </button>
                <button class="bl-style-btn bl-style-btn-secondary" id="baselinker-prev-step" style="display: none;">
                    ‚Üê Poprzedni
                </button>
                <button class="bl-style-btn bl-style-btn-primary" id="baselinker-next-step">
                    Nastƒôpny ‚Üí
                </button>
                <button class="bl-style-btn bl-style-btn-order" id="baselinker-submit-order" style="display: none;">
                    <span class="bl-style-btn-text">Z≈Ç√≥≈º zam√≥wienie</span>
                    <span class="bl-style-btn-loading" style="display: none;">
                        <div class="bl-style-spinner"></div>
                        Sk≈Çadanie...
                    </span>
                </button>
            </div>
        </div>
    </div>
</div>